(function(a){a.fn.extend({curtain:function(b){var c=a.extend({loader_image:"/images/ajax-loader.gif",loader_height:100,loader_width:100},b);return this.each(function(){var e=a(this);var g=e.offset();var d=a("<div class='jquery-curtain'></div>").css({position:"absolute","z-index":99999,"background-color":"black",border:"1px solid black",filter:"alpha(opacity=50)","-moz-opacity":0.5,opacity:0.5,top:g.top,left:g.left,width:e.width(),height:e.height()});if(c.loader_image){var f=a("<img src='"+c.loader_image+"' alt='Loading...' />");d.append(f.css({position:"relative",top:((e.height()/2)-(c.loader_height/2))+"px",left:((e.width()/2)-(c.loader_width/2))+"px"}));}a(this).prepend(d);});}});})(jQuery);